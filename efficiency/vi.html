<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>üìù Vi editor tips - Personal notebook</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "ayu";
            const default_dark_theme = "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Personal notebook</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/liufuyang/note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="-vi-editor-tips"><a class="header" href="#-vi-editor-tips">üìù Vi editor tips</a></h1>
<h2 id="moving"><a class="header" href="#moving">Moving</a></h2>
<pre><code>w   move to beginning of next word
b   move to previous beginning of word
e   move to end of word
ge  move to previous end of word

gg  move to first line
G   move to last line
12gg or 12G moves to line 12

0   move to beginning of line
$   move to end of line
_   üî• move to first non-blank character of the line
g_  move to last non-blank character of the line

g;  üî• jump to the place of last edit. can be quite helpful while debugging or editing files.

%   move to the matching part of a (, [ or {
[{  move to the first enclosure of { above

Ctrl-D  üî• move half-page down
Ctrl-U  üî• move half-page up
Ctrl-B  page up
Ctrl-F  page down
Ctrl-O  üî• jump to last (older) cursor position
Ctrl-I  üî• jump to next cursor position (after Ctrl-O)
Ctrl-Y  move view pane up
Ctrl-E  move view pane down

n   üî• next matching search pattern
N   previous matching search pattern
*   üî• next whole word under cursor
#   previous whole word under cursor
g*  next matching search (not whole word) pattern under cursor
g#  previous matching search (not whole word) pattern under cursor
gd  üî• go to definition/first occurrence of the word under cursor

fX  fall onto to next 'X', in the same line (X is any character)
FX  fall to previous 'X' (f and F put the cursor on X)
tX  til next 'X' (similar to above, but cursor is before X)
TX  til previous 'X' (cursor is behind X)

J   join, move next line below to the end of current line (but adds a space)
Jx  join like above, and remove the added space.
</code></pre>
<p>For ideavimrc, one can set up some extra actions such as moving to previous or next error locatoin</p>
<pre><code>nnoremap g[ :action GotoPreviousError&lt;CR&gt;
nnoremap g] :action GotoNextError&lt;CR&gt;
</code></pre>
<h2 id="editing"><a class="header" href="#editing">Editing</a></h2>
<pre><code>i, a, A, o, O   into insert mode in different locations
r, R            replace char or word

ci"             change inside quotes
di"             delete inside quotes

ca"             change around quotes, include quotes
da"             delete around quotes

d0              delete till be beginning of current line
d$, D           delete till the end of current line

u               undo
Ctrl-r          redo

&gt;&gt;              indent the current line
&gt;iB, &gt;i}        indent the current Block

,, (2 comma)    üîß customized to add a ; at the end of the line
                inoremap &lt;leader&gt;, &lt;C-o&gt;A;&lt;ESC&gt;
                innoremap &lt;leader&gt;, A;&lt;ESC&gt;
</code></pre>
<h3 id="vim-surround"><a class="header" href="#vim-surround"><a href="https://github.com/tpope/vim-surround">vim-surround</a></a></h3>
<pre><code>ysiw"           add " surround in word
cs"'            change surround " to '
ds"             delete surround "
</code></pre>
<h3 id="replacewithregister"><a class="header" href="#replacewithregister"><a href="https://github.com/JetBrains/ideavim/blob/master/doc/IdeaVim%20Plugins.md#replacewithregister-adds-two-in-one-command-that-replaces-text-with-the-contents-of-a-register">ReplaceWithRegister</a></a></h3>
<pre><code>griw            Replace in word by previously yanked or deleted stuff
gr$             Replace from the cursor position to the end of the line
</code></pre>
<h2 id="folding"><a class="header" href="#folding">Folding</a></h2>
<pre><code>zo              Open one fold under the cursor.
zO              Open folds, recursively.
zc              Close one fold under the cursor.
zC              Close folds, recursively.

zM              Close all folds: set 'foldlevel' to 0. 'foldenable' will be set.
zR              Open all folds. This sets 'foldlevel' to highest fold level.
</code></pre>
<p>For ideavim, set up as such:</p>
<pre><code>nnoremap zC :action CollapseRegionRecursively&lt;CR&gt;
nnoremap zO :action ExpandRegionRecursively&lt;CR&gt;
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<pre><code>:noh           turn off highlight
:set hls       highlight all matching phrases
:set ic        set ignore case for search
:set noic      set not ignore case again
:set invic     use inv to invert the option - f.g. ic here
</code></pre>
<h2 id="search-stuff"><a class="header" href="#search-stuff">Search stuff</a></h2>
<pre><code>/              find pattern
n              go to next found pattern

:! grep -rin -A2 -B2 --color --include=\*.md . -e 'yank'
                             use a grep command to show what md files from
                             current directory contains word 'yank' or 'Yank'
                             r: recursive, n: show line number, i: ignore case
</code></pre>
<h2 id="replacesubstitue-stuff"><a class="header" href="#replacesubstitue-stuff">Replace/Substitue stuff</a></h2>
<pre><code>To substitute new for the first old in a line type
~~~ cmd
        :s/old/new
~~~
    To substitute new for all 'old's on a line type

~~~ cmd
        :s/old/new/g
~~~
    To substitute phrases between two line #'s type

~~~ cmd
        :#,#s/old/new/g
~~~
    To substitute all occurrences in the file type

~~~ cmd
        :%s/old/new/g
~~~
    To ask for confirmation each time add 'c'

~~~ cmd
        :%s/old/new/gc
~~~
</code></pre>
<h2 id="copy-paste-stuff"><a class="header" href="#copy-paste-stuff">Copy Paste stuff</a></h2>
<p>How to select a word, copy it and replace another word.</p>
<pre><code>yiw	    Yank inner word (copy word under cursor, say "first").
...	    Move the cursor to another word (say "second").
viwp	Select "second", then replace it with "first".
...	    Move the cursor to another word (say "third").
viw"0p	Select "third", then replace it with "first".

üî• Copy a word and paste it over other words:

yiw	    Yank inner word (copy word under cursor, say "first").
...	    Move the cursor to another word (say "second").
ciw Ctrl-R 0 Esc	üî•Change "second", replacing it with "first".
...	    Move the cursor to another word (say "third").
.	    Repeat the operation (change word and replace it with "first").
...	    Move the cursor to another word and press . to repeat the change.

Copy text in quotes, and paste it over other quoted text:

yi"	    Yank inner text (text containing cursor which is in quotes).
...	    Move the cursor to other quoted text.
ci" Ctrl-R 0 Esc	üî•Change the quoted text, replacing it with the copied text.
...	    Move the cursor to more quoted text.
.	    Repeat the operation (change the quoted text and replace it with the copy).
...	    Move the cursor to more quoted text and press . to repeat the change.

Copy a line and paste it over other lines:

yy	    Yank current line (say "first line").
...	    Move the cursor to another line (say "second line").
Vp	    Select "second line", then replace it with "first line".
...	    Move the cursor to another line (say "third line").
V"0p    Select "third line", then replace it with "first line".

Deleting, changing and yanking text copies the affected text to the unnamed register (""). Yanking text also copies the text to register 0 ("0). So the command yiw copies the current word to "" and to "0.

yl /vy/xu     Yank current character. Composing the yank operation with the so often used "one character to the right" motion
</code></pre>
<h2 id="window-and-tab"><a class="header" href="#window-and-tab">Window and Tab</a></h2>
<pre><code>Ctrl-W s   split window horiontally, can be used with ctrlpvim after Ctrl-P to open file
Ctrl-W v   split window vertically, can be used with ctrlpvim after Ctrl-P to open file

Ctrl-W l   jump to the window on the right

Ctrl-W x   switch current window with next one

gt         move to the tab after
gT         move to the tab before
gt3        move to tab number 3
</code></pre>
<h2 id="group-change"><a class="header" href="#group-change">Group change</a></h2>
<pre><code>Ctrl-V,  then move to select, then Shift-&lt;action&gt;, then ESC 
</code></pre>
<h2 id="commenting"><a class="header" href="#commenting">Commenting</a></h2>
<p>With plugin:</p>
<ul>
<li>Plug 'scrooloose/nerdcommenter'</li>
</ul>
<pre><code>[count]&lt;leader&gt;cc |NERDCommenterComment|   Comment out the current line or text selected in visual mode.
[count]&lt;leader&gt;cn |NERDCommenterNested|    Same as cc but forces nesting.
[count]&lt;leader&gt;c&lt;space&gt; |NERDCommenterToggle|  Comment Toggle

[count] gcc     üîß comment toggle, need a special setup, see my mac-settings repo's config files.
</code></pre>
<p>For IntelliJ's ideavim plugin, add <code>set commentary</code> in it's config file.
If in IntelliJ with the ideavim plugin, use <code>gcc</code> to comment.</p>
<h2 id="turn-off-search-highlight"><a class="header" href="#turn-off-search-highlight">Turn off search highlight</a></h2>
<pre><code>:noh
</code></pre>
<h2 id="spell-check-with-neovim"><a class="header" href="#spell-check-with-neovim">Spell check with NeoVim</a></h2>
<pre><code>z=     give suggestions
zg     add it as a good word
zw     add it as a wrong word
</code></pre>
<h2 id="plugin-nerdtree"><a class="header" href="#plugin-nerdtree">Plugin NERDTree</a></h2>
<pre><code>,t      focus on tree view
Ctrl-t  toggle tree view

Ctrl-j  üîß customized - :NERDTreeFind
,n      üîß customized - :NERDTreeFind
</code></pre>
<h2 id="plugin-ctrlp-to-find-and-open-files"><a class="header" href="#plugin-ctrlp-to-find-and-open-files">PlugIn CtrlP to find and open files</a></h2>
<pre><code>F5               refresh files
Ctrl-p           open serach
Ctrl-p Ctrl-s/v  open in new window
Ctrl-p Ctrl-t    open in new tab

,p               üîß only search in buffered files
                 # above command is customized via setting:
                 # nnoremap &lt;leader&gt;p :CtrlPBuffer&lt;CR&gt; 
</code></pre>
<h2 id="plugin-vimtest"><a class="header" href="#plugin-vimtest">PlugIn VimTest</a></h2>
<pre><code>Plug 'vim-test/vim-test'
https://github.com/vim-test/vim-test
:TestNearest run nearest test
:TestFile    run all test in file
:TestSuite   run the whole test suite
:TestLast    run last test
:TestVisit   visit the test file from which you last run your tests
</code></pre>
<h2 id="-customized-coc-shortcut"><a class="header" href="#-customized-coc-shortcut">üîß Customized COC shortcut</a></h2>
<pre><code>Ctrl-l     üîß reformat file
Ctrl-space    give suggestions

gb         üîß go to definition
gy         üîß go to type definition
gi         üîß go to implementation
gr         üîß references

gp         go to previous issue
g√•         go to next issue

K          show documentation
</code></pre>
<hr />
<h1 id="tmux"><a class="header" href="#tmux">Tmux</a></h1>
<h2 id="window-and-pane"><a class="header" href="#window-and-pane">Window and Pane</a></h2>
<pre><code>Ctrl-b c      create window
Ctrl-b n/p    go to next or previous window
Ctrl-b w      list all windows
Ctrl-b 0/1..  go to window number 0/1/...

Ctrl-b %      split horisontal pane
Ctrl-b "      split vertical pane
Ctrl-b o      go to next pane
</code></pre>
<h2 id="tmux-session"><a class="header" href="#tmux-session">Tmux Session</a></h2>
<pre><code>tmux new -s &lt;name&gt;   create new session
Ctrl-b d             detach session
Ctrl-b x             kill current session
tmux ls              list sessions

tmux kill-session -t [name]
tmux rename-session [-t current-name] [new-name]
Ctrl-b $             to rename session while in tmux
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../prob_and_stats/mit_course/chapter_1.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../efficiency/git.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../prob_and_stats/mit_course/chapter_1.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../efficiency/git.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>


    </div>
    </body>
</html>
